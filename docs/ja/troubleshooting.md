# トラブルシューティング

他のソフトウェアと同様、Zettlrでも様々な問題が発生する可能性があります。何か問題に直面した場合は、解決するための手順がこのページに書かれています。4年にわたって問題に対処してきた経験から、以下で説明する方法は、ほとんどのケースで役に立つでしょう。

> フォーラムやRedditで質問したりGitHubでissueを作成したりする前に、ここに書かれた手順を試し、それからFAQに解決策が書かれていないか確認してください。ドキュメントに既に書かれていることを質問するのは、アプリケーションを開発するためのリソースを奪うことにつながります。

## 1. 再起動してみる

取るに足らないことと思われるかもしれませんが、単にZettlrを終了して再起動することで、多くの問題は解決します。問題が発生した場合は、アプリケーションの再起動、それでもダメならコンピュータの再起動を試してみてください。

> 問題をいつでも発生させられる場合、つまり特定の動作を行うと問題が「必ず」発生するのであれば、あなたは「回復不能状態」を発見した可能性があります。そのような場合は、問題を再現するための最小の手順を添えてGitHubのissueを作成してください。その後、修正します。

## 2. 最新版をインストールする

問題を発見し次第、修正を行い、その後しばらくしてから新しいバージョンがリリースされます。古いバージョンにはバグがあるので(そうでなければそれが最新版であるはずです)、常に最新版にアップデートしてください。

いつでも最新版のZettlrを使いましょう！

## 3. アプリケーションの設定を初期化する

アプリケーションが壊れたように見える（例えば起動もできなくなる）ということを、これまでに何度も聞きました。そのような場合にキャッシュをクリアすると解決する場合があることを発見しました。これは、Zettlrが使用しているElectronフレームワークに関係しているようです。これにより、キャッシュファイルが生成されますが、我々がコントロールする手段は何もありません。そして、このキャッシュを削除することで問題が解決する場合があります。

Zettlrはローカル設定とメタデータ（ユーザの定義したタグ、ワークスペース、場所、設定など）を保持しています。このデータを初期化、表示、修正したい場合があるかもしれません。(例えば、インストールが壊れていると思われる場合、読み込んだワークスペースが悪さをしている場合など)

このデータは、オペレーティングシステムによってそれぞれ異なる「アプリケーションデータパス」に保存されています:

* **Windows:** `C:\Users\<your username>\AppData\Roaming\Zettlr` (AppDataは隠しフォルダなので、表示するにはエクスプローラーの設定を変更する必要があります。)
* **macOS:** `/Users/<your username>/Library/Application Support/Zettlr` (Finderのウィンドウで"Alt"を押して"移動"メニューを開きます、そこに表示される"ライブラリ"を選択します。)
* **Linux:** `/home/<your username>/.config/Zettlr` (`.config`は隠しフォルダなので、コマンドラインを使って開くと良いでしょう。)

コンピュータにインストールしたZettlrを完全に削除したい場合は次の手順に従ってください:

1. 最初に、アプリケーションが終了していることを確認します。(エラーによりゾンビプロセスが発生している場合は、タスクマネージャまたはアクティビティモニタから終了することができます。)
2. 必要に応じて次のファイルをバックアップします:
    * `stats.json` (執筆統計)
    * `config.json` (アプリケーションの設定、ワークスペース及び開いているファイルの場所)
    * `custom.css` (カスタムCSS)
    * `tags.json` (タグと色情報)
    * `targets.json` (執筆目標)
    * `user.dic` (カスタム辞書)
3. ディレクトリ内のすべてのファイルを削除します。
4. アプリケーションを起動します。このとき、上記のファイルの一部は再作成されます。

## 4. コミュニティに助けを求める

ここまでの手順で問題が解決しない場合は、コミュニティに助けを求めてください。同じ問題に直面したユーザが助けてくれるかもしれません。[Zettlr subreddit](https://www.reddit.com/r/Zettlr)と[Discord](https://discord.com/invite/PcfS3DM9Xj)のコミュニティがアクティブに活動しています。好きな方を選択してください。

## 5. GitHubのissueを作成する

コミュニティから解決策が得られない場合、または、バグかもしれないということが議論の結果明らかになった場合は、GitHubでissueを作成してください。可能な限り多くの情報を書いてもらえれば、問題を早期に解決することができます。

> GitHubでissueを作成したら、通知を受け取るようにしてください。ほとんどの場合、問題について開発者から追加の質問が来ます。それに対する回答が早ければ早いほど、問題が修正されるのも早くなります。issueに誰も返答してくれない場合は、解決する方法がわからないのかもしれません。そんなときは、別の言い方で問題を説明したり、追加の情報を提供したりすれば解決に近づくかもしれません。

## 6. 前のバージョンに戻してみる

発生した問題によって生産性が落ちるため、問題が修正されるまで前のバージョンに戻すことにするユーザもいます。そのような状況で注意すべきことや、発生しうる悪影響について説明します。

ホームページには最新の安定リリースのみ表示されますが、[GitHubのリリースページ](https://github.com/Zettlr/Zettlr/releases)から、これまでのすべてのリリースを取得することができます。一般的に、どのバージョンのZettlrでも、対応するバージョンのインストーラを実行するだけでインストールできます。事前に準備することは特にありません。置き換えられるのは実際のプログラムのみで、データはそのまま残ります。インストーラは必ず最初に既存のプログラムを削除し（データは残ります）、それからダウンロードしたバージョンのプログラムをインストールします。

しかしながら、インストール時に設定のアップデートが行われることもあります。この処理は一方通行なので、前のバージョンに戻すと設定が壊れてしまいます。そのような場合は、（異常終了していなければ）アプリケーションを終了し、アプリケーションデータディレクトリ（前述）から`config.json`ファイルを削除します。その後Zettlrを再起動してください。**前のバージョンに戻す際は必ず事前にデータのバックアップをとってください！！**
